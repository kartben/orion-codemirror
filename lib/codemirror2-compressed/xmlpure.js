CodeMirror.defineMode("xmlpure",function(a,b){function q(a,b,c){return b.tokenize=c,c(a,b)}function r(a,b,c){return function(d,e){while(!d.eol()){if(d.match(b)){t(e),e.tokenize=c;break}d.next()}return a}}function s(a,b){var c=o.hasOwnProperty(b)||a.context&&a.context.doIndent,d={tagName:b,prev:a.context,indent:a.context?a.context.indent+p:0,lineNumber:a.lineNumber,indented:a.indented,noIndent:c};a.context=d}function t(a){if(a.context){var b=a.context;return a.context=b.prev,b}return null}function u(a){return a.sol()||a.string.charAt(a.start-1)==" "||a.string.charAt(a.start-1)=="	"}function v(a,b){return a.eat("<")?a.eat("?")?(s(b,k),b.tokenize=C,d):a.match("!--")?(s(b,m),q(a,b,r(e,"-->",v))):a.eatSpace()||a.eol()?(a.skipToEnd(),c):(b.tokenize=w,f):(a.skipToEnd(),c)}function w(a,b){var d=a.pos;if(a.match(/^[a-zA-Z_:][-a-zA-Z0-9_:.]*/)){var e=a.string.substring(d,a.pos);return s(b,e),b.tokenize=x,f}if(a.match(/^\/[a-zA-Z_:][-a-zA-Z0-9_:.]*( )*>/)){var g=a.string.substring(d+1,a.pos-1).trim(),h=t(b);return b.tokenize=b.context==null?v:A,h==null||g!=h.tagName?c:f}return b.tokenize=b.context==null?v:A,a.eatWhile(/[^>]/),a.eat(">"),c}function x(a,b){return a.match(/^\/>/)?(t(b),b.tokenize=b.context==null?v:A,f):a.eat(/^>/)?(b.tokenize=A,f):u(a)&&a.match(/^[a-zA-Z_:][-a-zA-Z0-9_:.]*( )*=/)?(b.tokenize=y,g):(b.tokenize=b.context==null?v:v,a.eatWhile(/[^>]/),a.eat(">"),c)}function y(a,b){var d=a.next();return d!='"'&&d!="'"?(a.skipToEnd(),b.tokenize=x,c):(b.tokParams.quote=d,b.tokenize=z,h)}function z(a,b){var d="";while(!a.eol()){d=a.next();if(d==b.tokParams.quote)return b.tokenize=x,h;if(d=="<")return a.skipToEnd(),b.tokenize=x,c;if(d=="&"){d=a.next();if(d==";")return a.skipToEnd(),b.tokenize=x,c;while(!a.eol()&&d!=";"){if(d=="<")return a.skipToEnd(),b.tokenize=x,c;d=a.next()}if(a.eol()&&d!=";")return a.skipToEnd(),b.tokenize=x,c}}return h}function A(a,b){return a.eat("<")?a.match("?")?(s(b,k),b.tokenize=C,d):a.match("!--")?(s(b,m),q(a,b,r(e,"-->",b.context==null?v:A))):a.match("![CDATA[")?(s(b,l),q(a,b,r(i,"]]>",b.context==null?v:A))):a.eatSpace()||a.eol()?(a.skipToEnd(),c):(b.tokenize=w,f):a.eat("&")?(a.eatWhile(/[^;]/),a.eat(";"),j):(s(b,n),b.tokenize=B,null)}function B(a,b){return a.eatWhile(/[^<]/),a.eol()||(t(b),b.tokenize=A),i}function C(a,b){return a.match("xml",!0,!0)?b.lineNumber>1||a.pos>5?(b.tokenize=v,a.skipToEnd(),c):(b.tokenize=E,d):u(a)||a.match("?>")?(b.tokenize=v,a.skipToEnd(),c):(b.tokenize=D,d)}function D(a,b){return a.eatWhile(/[^?]/),a.eat("?")&&a.eat(">")&&(t(b),b.tokenize=b.context==null?v:A),d}function E(a,b){return b.tokenize=F,u(a)&&a.match(/^version( )*=( )*"([a-zA-Z0-9_.:]|\-)+"/)?d:(a.skipToEnd(),c)}function F(a,b){return b.tokenize=G,u(a)&&a.match(/^encoding( )*=( )*"[A-Za-z]([A-Za-z0-9._]|\-)*"/)?d:null}function G(a,b){return b.tokenize=H,u(a)&&a.match(/^standalone( )*=( )*"(yes|no)"/)?d:null}function H(a,b){return b.tokenize=v,a.match("?>")&&a.eol()?(t(b),d):(a.skipToEnd(),c)}var c="error",d="comment",e="comment",f="tag",g="attribute",h="string",i="atom",j="string",k="!instruction",l="!cdata",m="!comment",n="!text",o={"!cdata":!0,"!comment":!0,"!text":!0,"!instruction":!0},p=a.indentUnit;return{electricChars:"/[",startState:function(){return{tokenize:v,tokParams:{},lineNumber:0,lineError:!1,context:null,indented:0}},token:function(a,b){a.sol()&&(b.lineNumber++,b.lineError=!1,b.indented=a.indentation());if(a.eatSpace())return null;var c=b.tokenize(a,b);return b.lineError=b.lineError||c=="error",c},blankLine:function(a){a.lineNumber++,a.lineError=!1},indent:function(a,b){if(a.context){if(a.context.noIndent==1)return;return b.match(/^<\/.*/)?a.context.indent:b.match(/^<!\[CDATA\[/)?0:a.context.indent+p}return 0},compareStates:function(a,b){if(a.indented!=b.indented)return!1;for(var c=a.context,d=b.context;;c=c.prev,d=d.prev){if(!c||!d)return c==d;if(c.tagName!=d.tagName)return!1}}}}),CodeMirror.defineMIME("application/xml","purexml"),CodeMirror.defineMIME("text/xml","purexml")