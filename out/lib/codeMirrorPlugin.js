/*******************************************************************************
 * @license
 * Copyright (c) 2011 IBM Corporation and others.
 * All rights reserved. This program and the accompanying materials are made 
 * available under the terms of the Eclipse Public License v1.0 
 * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 
 *
 * Contributors:
 *     IBM Corporation - initial API and implementation
 *******************************************************************************/

/*******************************************************************************
 * Copyright (c) 2010, 2011 IBM Corporation and others.
 * All rights reserved. This program and the accompanying materials are made 
 * available under the terms of the Eclipse Public License v1.0 
 * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 
 * 
 * Contributors: 
 *		Felipe Heidrich (IBM Corporation) - initial API and implementation
 *		Silenio Quarti (IBM Corporation) - initial API and implementation
 ******************************************************************************/

/*******************************************************************************
 * @license
 * Copyright (c) 2010, 2011 IBM Corporation and others.
 * All rights reserved. This program and the accompanying materials are made 
 * available under the terms of the Eclipse Public License v1.0 
 * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 
 * 
 * Contributors: 
 *		Felipe Heidrich (IBM Corporation) - initial API and implementation
 *		Silenio Quarti (IBM Corporation) - initial API and implementation
 ******************************************************************************/

/*******************************************************************************
 * @license
 * Copyright (c) 2010, 2011 IBM Corporation and others.
 * All rights reserved. This program and the accompanying materials are made 
 * available under the terms of the Eclipse Public License v1.0 
 * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 
 * 
 * Contributors: IBM Corporation - initial API and implementation
 ******************************************************************************/

/*******************************************************************************
 * @license
 * Copyright (c) 2010, 2011 IBM Corporation and others.
 * All rights reserved. This program and the accompanying materials are made 
 * available under the terms of the Eclipse Public License v1.0 
 * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 
 * 
 * Contributors: 
 *		Felipe Heidrich (IBM Corporation) - initial API and implementation
 *		Silenio Quarti (IBM Corporation) - initial API and implementation
 ******************************************************************************/

/*******************************************************************************
 * @license
 * Copyright (c) 2010, 2011 IBM Corporation and others.
 * All rights reserved. This program and the accompanying materials are made 
 * available under the terms of the Eclipse Public License v1.0 
 * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 
 * 
 * Contributors: 
 *		Felipe Heidrich (IBM Corporation) - initial API and implementation
 *		Silenio Quarti (IBM Corporation) - initial API and implementation
 ******************************************************************************/

/*******************************************************************************
 * @license
 * Copyright (c) 2010, 2011 IBM Corporation and others.
 * All rights reserved. This program and the accompanying materials are made 
 * available under the terms of the Eclipse Public License v1.0 
 * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 
 * 
 * Contributors: 
 *		Felipe Heidrich (IBM Corporation) - initial API and implementation
 *		Silenio Quarti (IBM Corporation) - initial API and implementation
 ******************************************************************************/

/*******************************************************************************
 * @license
 * Copyright (c) 2010, 2011 IBM Corporation and others.
 * All rights reserved. This program and the accompanying materials are made 
 * available under the terms of the Eclipse Public License v1.0 
 * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 
 * 
 * Contributors: 
 *		Felipe Heidrich (IBM Corporation) - initial API and implementation
 *		Silenio Quarti (IBM Corporation) - initial API and implementation
 ******************************************************************************/

/*******************************************************************************
 * @license
 * Copyright (c) 2010, 2011 IBM Corporation and others.
 * All rights reserved. This program and the accompanying materials are made 
 * available under the terms of the Eclipse Public License v1.0 
 * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 
 * 
 * Contributors: 
 *		Felipe Heidrich (IBM Corporation) - initial API and implementation
 *		Silenio Quarti (IBM Corporation) - initial API and implementation
 ******************************************************************************/

/*******************************************************************************
 * @license
 * Copyright (c) 2011, 2012 IBM Corporation and others.
 * All rights reserved. This program and the accompanying materials are made 
 * available under the terms of the Eclipse Public License v1.0 
 * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 
 *
 * Contributors:
 *     IBM Corporation - initial API and implementation
 *******************************************************************************/

var eclipse=eclipse||{};eclipse.ServiceProvider=function(e,t){this.dispatchEvent=function(n){t.dispatchEvent.apply(t,[e,n].concat(Array.prototype.slice.call(arguments,1)))},this.unregister=function(){t.unregisterServiceProvider(e)}},eclipse.PluginProvider=function(e){function s(e){i&&i.postMessage(window.ArrayBuffer?e:JSON.stringify(e),"*")}function u(){var e=[];for(var r=0;r<n.length;r++)n[r]&&e.push({serviceId:r,type:n[r].type,methods:n[r].methods,properties:n[r].properties});return{services:e,metadata:t||{}}}function a(e){if(e.source!==i)return;var t=typeof e.data!="string"?e.data:JSON.parse(e.data),r=t.serviceId,o=n[r].implementation,u=o[t.method],a={id:t.id,result:null,error:null};try{var f=u.apply(o,t.params);f&&typeof f.then=="function"?f.then(function(e){a.result=e,s(a)},function(e){a.error=e?JSON.parse(JSON.stringify(e)):e,s(a)},function(){s({requestId:t.id,method:"progress",params:Array.prototype.slice.call(arguments)})}):(a.result=f,s(a))}catch(l){a.error=l?JSON.parse(JSON.stringify(l)):l,s(a)}}var t=e,n=[],r=!1,i=null,o={dispatchEvent:function(e,t){if(!r)throw new Error("Cannot dispatchEvent. Plugin Provider not connected");var n={serviceId:e,method:"dispatchEvent",params:[t].concat(Array.prototype.slice.call(arguments,2))};s(n)},unregisterServiceProvider:function(e){if(r)throw new Error("Cannot unregister. Plugin Provider is connected");n[e]=null}};this.registerServiceProvider=function(e,t,i){if(r)throw new Error("Cannot register. Plugin Provider is connected");var s=null,u=[];for(s in t)typeof t[s]=="function"&&u.push(s);var a=n.length;return n[a]={type:e,methods:u,implementation:t,properties:i||{}},new eclipse.ServiceProvider(a,o)},this.connect=function(e,t){if(r){e&&e();return}if(!window)i=self;else if(window!==window.parent)i=window.parent;else{if(window.opener===null){t&&t("No valid plugin target");return}i=window.opener}addEventListener("message",a,!1);var n={method:"plugin",params:[u()]};s(n),r=!0,e&&e()},this.disconnect=function(){r&&(removeEventListener("message",a),i=null,r=!1)}},define("orion/plugin",function(){}),define("orion/textview/eventTarget",[],function(){function e(){}return e.addMixin=function(t){var n=e.prototype;for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},e.prototype={addEventListener:function(e,t,n){this._eventTypes||(this._eventTypes={});var r=this._eventTypes[e];r||(r=this._eventTypes[e]={level:0,listeners:[]});var i=r.listeners;i.push({listener:t,useCapture:n})},dispatchEvent:function(e){if(!this._eventTypes)return;var t=e.type,n=this._eventTypes[t];if(n){var r=n.listeners;try{n.level++;if(r)for(var i=0,s=r.length;i<s;i++)if(r[i]){var o=r[i].listener;typeof o=="function"?o.call(this,e):o.handleEvent&&typeof o.handleEvent=="function"&&o.handleEvent(e)}}finally{n.level--;if(n.compact&&n.level===0){for(var u=r.length-1;u>=0;u--)r[u]||r.splice(u,1);r.length===0&&delete this._eventTypes[t],n.compact=!1}}}},isListening:function(e){return this._eventTypes?this._eventTypes[e]!==undefined:!1},removeEventListener:function(e,t,n){if(!this._eventTypes)return;var r=this._eventTypes[e];if(r){var i=r.listeners;for(var s=0,o=i.length;s<o;s++){var u=i[s];if(u&&u.listener===t&&u.useCapture===n){r.level!==0?(i[s]=null,r.compact=!0):i.splice(s,1);break}}i.length===0&&delete this._eventTypes[e]}}},{EventTarget:e}}),define("orion/textview/textModel",["orion/textview/eventTarget"],function(e){function n(e,t){this._lastLineIndex=-1,this._text=[""],this._lineOffsets=[0],this.setText(e),this.setLineDelimiter(t)}var t=window.navigator.platform.indexOf("Win")!==-1;return n.prototype={find:function(e){this._text.length>1&&(this._text=[this._text.join("")]);var t=e.string,n=e.regex,r=t;!n&&t&&(r=t.replace(/([\\$\^*\/+?\.\(\)|{}\[\]])/g,"\\$&"));var i=null,s;if(r){var o=e.reverse,u=e.wrap,a=e.wholeWord,f=e.caseInsensitive,l=e.start||0,c=e.end,h=e.end!==undefined,p="";p.indexOf("g")===-1&&(p+="g"),f&&p.indexOf("i")===-1&&(p+="i"),a&&(r="\\b"+r+"\\b");var d=this._text[0],v,m,g=0;h&&(d=d.substring(l,c),g=l);var y=new RegExp(r,p);o?s=function(){var e=null;y.lastIndex=0;for(;;){m=y.lastIndex,v=y.exec(d);if(m===y.lastIndex)return null;if(!v)break;if(v.index<l)e={start:v.index+g,end:y.lastIndex+g};else{if(!u||e)break;l=d.length,e={start:v.index+g,end:y.lastIndex+g}}}return e&&(l=e.start),e}:(h||(y.lastIndex=l),s=function(){for(;;){m=y.lastIndex,v=y.exec(d);if(m===y.lastIndex)return null;if(v)return{start:v.index+g,end:y.lastIndex+g};if(m!==0&&u)continue;break}return null}),i=s()}return{next:function(){var e=i;return e&&(i=s()),e},hasNext:function(){return i!==null}}},getCharCount:function(){var e=0;for(var t=0;t<this._text.length;t++)e+=this._text[t].length;return e},getLine:function(e,t){var n=this.getLineCount();if(0<=e&&e<n){var r=this._lineOffsets[e];if(e+1<n){var i=this.getText(r,this._lineOffsets[e+1]);if(t)return i;var s=i.length,o;while((o=i.charCodeAt(s-1))===10||o===13)s--;return i.substring(0,s)}return this.getText(r)}return null},getLineAtOffset:function(e){var t=this.getCharCount();if(0<=e&&e<=t){var n=this.getLineCount();if(e===t)return n-1;var r,i,s=this._lastLineIndex;if(0<=s&&s<n){r=this._lineOffsets[s],i=s+1<n?this._lineOffsets[s+1]:t;if(r<=e&&e<i)return s}var o=n,u=-1;while(o-u>1){s=Math.floor((o+u)/2),r=this._lineOffsets[s],i=s+1<n?this._lineOffsets[s+1]:t;if(e<=r)o=s;else{if(e<i){o=s;break}u=s}}return this._lastLineIndex=o,o}return-1},getLineCount:function(){return this._lineOffsets.length},getLineDelimiter:function(){return this._lineDelimiter},getLineEnd:function(e,t){var n=this.getLineCount();if(0<=e&&e<n){if(e+1<n){var r=this._lineOffsets[e+1];if(t)return r;var i=this.getText(Math.max(this._lineOffsets[e],r-2),r),s=i.length,o;while((o=i.charCodeAt(s-1))===10||o===13)s--;return r-(i.length-s)}return this.getCharCount()}return-1},getLineStart:function(e){return 0<=e&&e<this.getLineCount()?this._lineOffsets[e]:-1},getText:function(e,t){e===undefined&&(e=0),t===undefined&&(t=this.getCharCount());if(e===t)return"";var n=0,r=0,i;while(r<this._text.length){i=this._text[r].length;if(e<=n+i)break;n+=i,r++}var s=n,o=r;while(r<this._text.length){i=this._text[r].length;if(t<=n+i)break;n+=i,r++}var u=n,a=r;if(o===a)return this._text[o].substring(e-s,t-u);var f=this._text[o].substring(e-s),l=this._text[a].substring(0,t-u);return f+this._text.slice(o+1,a).join("")+l},onChanging:function(e){return this.dispatchEvent(e)},onChanged:function(e){return this.dispatchEvent(e)},setLineDelimiter:function(e){e==="auto"&&(e=undefined,this.getLineCount()>1&&(e=this.getText(this.getLineEnd(0),this.getLineEnd(0,!0)))),this._lineDelimiter=e?e:t?"\r\n":"\n"},setText:function(e,t,n){e===undefined&&(e=""),t===undefined&&(t=0),n===undefined&&(n=this.getCharCount());if(t===n&&e==="")return;var r=this.getLineAtOffset(t),i=this.getLineAtOffset(n),s=t,o=n-t,u=i-r,a=e.length,f=0,l=this.getLineCount(),c=0,h=0,p=0,d=[];for(;;){c!==-1&&c<=p&&(c=e.indexOf("\r",p)),h!==-1&&h<=p&&(h=e.indexOf("\n",p));if(h===-1&&c===-1)break;c!==-1&&h!==-1?c+1===h?p=h+1:p=(c<h?c:h)+1:c!==-1?p=c+1:p=h+1,d.push(t+p),f++}var v={type:"Changing",text:e,start:s,removedCharCount:o,addedCharCount:a,removedLineCount:u,addedLineCount:f};this.onChanging(v);if(d.length===0){var m=this.getLineStart(r),g;i+1<l?g=this.getLineStart(i+1):g=this.getCharCount(),t!==m&&(e=this.getText(m,t)+e,t=m),n!==g&&(e+=this.getText(n,g),n=g)}var y=a-o;for(var b=r+u+1;b<l;b++)this._lineOffsets[b]+=y;var w=[r+1,u].concat(d);Array.prototype.splice.apply(this._lineOffsets,w);var E=0,S=0,x;while(S<this._text.length){x=this._text[S].length;if(t<=E+x)break;E+=x,S++}var T=E,N=S;while(S<this._text.length){x=this._text[S].length;if(n<=E+x)break;E+=x,S++}var C=E,k=S,L=this._text[N],A=this._text[k],O=L.substring(0,t-T),M=A.substring(n-C),_=[N,k-N+1];O&&_.push(O),e&&_.push(e),M&&_.push(M),Array.prototype.splice.apply(this._text,_),this._text.length===0&&(this._text=[""]);var D={type:"Changed",start:s,removedCharCount:o,addedCharCount:a,removedLineCount:u,addedLineCount:f};this.onChanged(D)}},e.EventTarget.addMixin(n.prototype),{TextModel:n}}),function(){function e(e,t,n,r,i,s){t[e]&&(n.push(e),(t[e]===!0||t[e]===1)&&r.push(i+e+"/"+s))}function t(e,t,n,r,i){var s=r+t+"/"+i;require._fileExists(e.toUrl(s))&&n.push(s)}function n(e,t,n){for(var r in t)!(r in i)&&(!(r in e)||n)&&(e[r]=t[r])}var r=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/,i={};define("i18n",{version:"1.0.0",load:function(i,s,o,u){u=u||{};var f,l=r.exec(i),h=l[1],p=l[4],v=l[5],m=p.split("-"),g=[],y={},b,w,E="";l[5]?(h=l[1],f=h+v):(f=i,v=l[4],p=u.locale||(u.locale=typeof navigator=="undefined"?"root":(navigator.language||navigator.userLanguage||"root").toLowerCase()),m=p.split("-"));if(u.isBuild){g.push(f),t(s,"root",g,h,v);for(b=0;w=m[b];b++)E+=(E?"-":"")+w,t(s,E,g,h,v);s(g,function(){o()})}else s([f],function(t){var r=[];e("root",t,r,g,h,v);for(b=0;w=m[b];b++)E+=(E?"-":"")+w,e(E,t,r,g,h,v);s(g,function(){var e,i;for(e=r.length-1;e>-1&&(w=r[e]);e--){i=t[w];if(i===!0||i===1)i=s(h+w+"/"+v);n(y,i)}o(y)})})}})}(),define("orion/textview/nlsPlugin",{load:function(e,t,n,r){t.specified("orion/bootstrap")?t(["orion/nlsPlugin!"+e],function(e){n(e)}):n({})}}),define("orion/editor/nls/messages",["orion/textview/nlsPlugin!orion/editor/nls/messages"],function(e){var t={root:{incrementalFind:"Incremental find: ${0}",incrementalFindNotFound:"Incremental find: ${0} (not found)",find:"Find...",findNext:"Find Next Occurrence",findPrevious:"Find Previous Occurrence",incrementalFindKey:"Incremental Find",indentLines:"Indent Lines",unindentLines:"Unindent Lines",moveLinesUp:"Move Lines Up",moveLinesDown:"Move Lines Down",copyLinesUp:"Copy Lines Up",copyLinesDown:"Copy Lines Down",deleteLines:"Delete Lines",gotoLine:"Goto Line...",gotoLinePrompty:"Goto Line:",nextAnnotation:"Next Annotation",prevAnnotation:"Previous Annotation",lastEdit:"Last Edit Location",toggleLineComment:"Toggle Line Comment",addBlockComment:"Add Block Comment",removeBlockComment:"Remove Block Comment",linkedModeEntered:"Linked Mode entered",linkedModeExited:"Linked Mode exited",syntaxError:"Syntax Error",contentAssist:"Content Assist",lineColumn:"Line ${0} : Col ${1}"}};return Object.keys(e).forEach(function(n){typeof t[n]=="undefined"&&(t[n]=e[n])}),t}),define("orion/editor/nls/root/messages",{incrementalFind:"Incremental find: ${0}",incrementalFindNotFound:"Incremental find: ${0} (not found)",find:"Find...",findNext:"Find Next Occurrence",findPrevious:"Find Previous Occurrence",incrementalFindKey:"Incremental Find",indentLines:"Indent Lines",unindentLines:"Unindent Lines",moveLinesUp:"Move Lines Up",moveLinesDown:"Move Lines Down",copyLinesUp:"Copy Lines Up",copyLinesDown:"Copy Lines Down",deleteLines:"Delete Lines",gotoLine:"Goto Line...",gotoLinePrompty:"Goto Line:",nextAnnotation:"Next Annotation",prevAnnotation:"Previous Annotation",lastEdit:"Last Edit Location",toggleLineComment:"Toggle Line Comment",addBlockComment:"Add Block Comment",removeBlockComment:"Remove Block Comment",linkedModeEntered:"Linked Mode entered",linkedModeExited:"Linked Mode exited",syntaxError:"Syntax Error",contentAssist:"Content Assist",lineColumn:"Line ${0} : Col ${1}"}),define("orion/textview/nls/messages",["orion/textview/nlsPlugin!orion/textview/nls/messages"],function(e){var t={root:{multipleAnnotations:"Multiple annotations:",line:"Line: ${0}",breakpoint:"Breakpoint",bookmark:"Bookmark",task:"Task",error:"Error",warning:"Warning",matchingSearch:"Matching Search",currentSearch:"Current Search",currentLine:"Current Line",matchingBracket:"Matching Bracket",currentBracket:"Current Bracket"}};return Object.keys(e).forEach(function(n){typeof t[n]=="undefined"&&(t[n]=e[n])}),t}),define("orion/textview/nls/root/messages",{multipleAnnotations:"Multiple annotations:",line:"Line: ${0}",breakpoint:"Breakpoint",bookmark:"Bookmark",task:"Task",error:"Error",warning:"Warning",matchingSearch:"Matching Search",currentSearch:"Current Search",currentLine:"Current Line",matchingBracket:"Matching Bracket",currentBracket:"Current Bracket"}),define("orion/textview/annotations",["i18n!orion/textview/nls/messages","orion/textview/eventTarget"],function(e,t){function n(e,t,n){this.start=e,this.end=t,this._projectionModel=n,this.html=this._expandedHTML,this.style=this._expandedStyle,this.expanded=!0}function r(){}function s(t,n){var i=t.lastIndexOf("."),s=t.substring(i+1),o={title:e[s],style:{styleClass:"annotation "+s},html:"<div class='annotationHTML "+s+"'></div>",overviewStyle:{styleClass:"annotationOverview "+s}};n?o.lineStyle={styleClass:"annotationLine "+s}:o.rangeStyle={styleClass:"annotationRange "+s},r.registerType(t,o)}function o(){}function u(e){this._annotations=[];var t=this;this._listener={onChanged:function(e){t._onChanged(e)}},this.setTextModel(e)}function a(e,t){this._view=e,this._annotationModel=t;var n=this;this._listener={onDestroy:function(e){n._onDestroy(e)},onLineStyle:function(e){n._onLineStyle(e)},onChanged:function(e){n._onAnnotationModelChanged(e)}},e.addEventListener("Destroy",this._listener.onDestroy),e.addEventListener("LineStyle",this._listener.onLineStyle),t.addEventListener("Changed",this._listener.onChanged)}n.prototype={_expandedHTML:"<div class='annotationHTML expanded'></div>",_expandedStyle:{styleClass:"annotation expanded"},_collapsedHTML:"<div class='annotationHTML collapsed'></div>",_collapsedStyle:{styleClass:"annotation collapsed"},collapse:function(){if(!this.expanded)return;this.expanded=!1,this.html=this._collapsedHTML,this.style=this._collapsedStyle;var e=this._projectionModel,t=e.getBaseModel();this._projection={start:t.getLineStart(t.getLineAtOffset(this.start)+1),end:t.getLineEnd(t.getLineAtOffset(this.end),!0)},e.addProjection(this._projection)},expand:function(){if(this.expanded)return;this.expanded=!0,this.html=this._expandedHTML,this.style=this._expandedStyle,this._projectionModel.removeProjection(this._projection)}},r.ANNOTATION_ERROR="orion.annotation.error",r.ANNOTATION_WARNING="orion.annotation.warning",r.ANNOTATION_TASK="orion.annotation.task",r.ANNOTATION_BREAKPOINT="orion.annotation.breakpoint",r.ANNOTATION_BOOKMARK="orion.annotation.bookmark",r.ANNOTATION_FOLDING="orion.annotation.folding",r.ANNOTATION_CURRENT_BRACKET="orion.annotation.currentBracket",r.ANNOTATION_MATCHING_BRACKET="orion.annotation.matchingBracket",r.ANNOTATION_CURRENT_LINE="orion.annotation.currentLine",r.ANNOTATION_CURRENT_SEARCH="orion.annotation.currentSearch",r.ANNOTATION_MATCHING_SEARCH="orion.annotation.matchingSearch";var i={};return r.registerType=function(e,t){var n=t;return typeof n!="function"&&(n=function(e,t,n){this.start=e,this.end=t,n&&(this.title=n)},n.prototype=t),n.prototype.type=e,i[e]=n,e},r.createAnnotation=function(e,t,n,r){return new(this.getType(e))(t,n,r)},r.getType=function(e){return i[e]},s(r.ANNOTATION_ERROR),s(r.ANNOTATION_WARNING),s(r.ANNOTATION_TASK),s(r.ANNOTATION_BREAKPOINT),s(r.ANNOTATION_BOOKMARK),s(r.ANNOTATION_CURRENT_BRACKET),s(r.ANNOTATION_MATCHING_BRACKET),s(r.ANNOTATION_CURRENT_SEARCH),s(r.ANNOTATION_MATCHING_SEARCH),s(r.ANNOTATION_CURRENT_LINE,!0),r.registerType(r.ANNOTATION_FOLDING,n),o.addMixin=function(e){var t=o.prototype;for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o.prototype={addAnnotationType:function(e){this._annotationTypes||(this._annotationTypes=[]),this._annotationTypes.push(e)},getAnnotationTypePriority:function(e){if(this._annotationTypes)for(var t=0;t<this._annotationTypes.length;t++)if(this._annotationTypes[t]===e)return t+1;return 0},getAnnotationsByType:function(e,t,n){var r=e.getAnnotations(t,n),i,s=[];while(r.hasNext()){i=r.next();var o=this.getAnnotationTypePriority(i.type);if(o===0)continue;s.push(i)}var u=this;return s.sort(function(e,t){return u.getAnnotationTypePriority(e.type)-u.getAnnotationTypePriority(t.type)}),s},isAnnotationTypeVisible:function(e){return this.getAnnotationTypePriority(e)!==0},removeAnnotationType:function(e){if(!this._annotationTypes)return;for(var t=0;t<this._annotationTypes.length;t++)if(this._annotationTypes[t]===e){this._annotationTypes.splice(t,1);break}}},u.prototype={addAnnotation:function(e){if(!e)return;var t=this._annotations,n=this._binarySearch(t,e.start);t.splice(n,0,e);var r={type:"Changed",added:[e],removed:[],changed:[]};this.onChanged(r)},getTextModel:function(){return this._model},getAnnotations:function(e,t){var n=this._annotations,r,i=0,s=function(){while(i<n.length){var r=n[i++];if(e===r.start||(e>r.start?e<r.end:r.start<t))return r;if(r.start>=t)break}return null};return r=s(),{next:function(){var e=r;return e&&(r=s()),e},hasNext:function(){return r!==null}}},modifyAnnotation:function(e){if(!e)return;var t=this._getAnnotationIndex(e);if(t<0)return;var n={type:"Changed",added:[],removed:[],changed:[e]};this.onChanged(n)},onChanged:function(e){return this.dispatchEvent(e)},removeAnnotations:function(e){var t=this._annotations,n,r;if(e){n=[];for(r=t.length-1;r>=0;r--){var i=t[r];i.type===e&&t.splice(r,1),n.splice(0,0,i)}}else n=t,t=[];var s={type:"Changed",removed:n,added:[],changed:[]};this.onChanged(s)},removeAnnotation:function(e){if(!e)return;var t=this._getAnnotationIndex(e);if(t<0)return;var n={type:"Changed",removed:this._annotations.splice(t,1),added:[],changed:[]};this.onChanged(n)},replaceAnnotations:function(e,t){var n=this._annotations,r,i,s,o=[];if(e)for(r=e.length-1;r>=0;r--){s=e[r],i=this._getAnnotationIndex(s);if(i<0)continue;n.splice(i,1),o.splice(0,0,s)}t||(t=[]);for(r=0;r<t.length;r++)s=t[r],i=this._binarySearch(n,s.start),n.splice(i,0,s);var u={type:"Changed",removed:o,added:t,changed:[]};this.onChanged(u)},setTextModel:function(e){this._model&&this._model.removeEventListener("Changed",this._listener.onChanged),this._model=e,this._model&&this._model.addEventListener("Changed",this._listener.onChanged)},_binarySearch:function(e,t){var n=e.length,r=-1,i;while(n-r>1)i=Math.floor((n+r)/2),t<=e[i].start?n=i:r=i;return n},_getAnnotationIndex:function(e){var t=this._annotations,n=this._binarySearch(t,e.start);while(n<t.length&&t[n].start===e.start){if(t[n]===e)return n;n++}return-1},_onChanged:function(e){var t=e.start,n=e.addedCharCount,r=e.removedCharCount,i=this._annotations,s=t+r,o=0;if(!(0<=o&&o<i.length))return;var u={type:"Changed",added:[],removed:[],changed:[],textModelChangedEvent:e},a=n-r,f;for(f=o;f<i.length;f++){var l=i[f];l.start>=s?(l.start+=a,l.end+=a,u.changed.push(l)):l.end<=t||(l.start<t&&s<l.end?(l.end+=a,u.changed.push(l)):(i.splice(f,1),u.removed.push(l),f--))}(u.added.length>0||u.removed.length>0||u.changed.length>0)&&this.onChanged(u)}},t.EventTarget.addMixin(u.prototype),a.prototype={destroy:function(){var e=this._view;e&&(e.removeEventListener("Destroy",this._listener.onDestroy),e.removeEventListener("LineStyle",this._listener.onLineStyle),this.view=null);var t=this._annotationModel;t&&(t.removeEventListener("Changed",this._listener.onChanged),t=null)},_mergeStyle:function(e,t){if(t){e||(e={}),e.styleClass&&t.styleClass&&e.styleClass!==t.styleClass?e.styleClass+=" "+t.styleClass:e.styleClass=t.styleClass;var n;if(t.style){e.style||(e.style={});for(n in t.style)e.style[n]||(e.style[n]=t.style[n])}if(t.attributes){e.attributes||(e.attributes={});for(n in t.attributes)e.attributes[n]||(e.attributes[n]=t.attributes[n])}}return e},_mergeStyleRanges:function(e,t){e||(e=[]);var n,r;for(r=0;r<e.length&&t;r++){var i=e[r];if(t.end<=i.start)break;if(t.start>=i.end)continue;n=this._mergeStyle({},i.style),n=this._mergeStyle(n,t.style);var s=[];s.push(r,1),t.start<i.start&&s.push({start:t.start,end:i.start,style:t.style}),t.start>i.start&&s.push({start:i.start,end:t.start,style:i.style}),s.push({start:Math.max(i.start,t.start),end:Math.min(i.end,t.end),style:n}),t.end<i.end&&s.push({start:t.end,end:i.end,style:i.style}),t.end>i.end?t={start:i.end,end:t.end,style:t.style}:t=null,Array.prototype.splice.apply(e,s)}return t&&(n=this._mergeStyle({},t.style),e.splice(r,0,{start:t.start,end:t.end,style:n})),e},_onAnnotationModelChanged:function(e){function i(e){for(var i=0;i<e.length;i++){if(!n.isAnnotationTypeVisible(e[i].type))continue;var s=e[i].start,o=e[i].end;r.getBaseModel&&(s=r.mapOffset(s,!0),o=r.mapOffset(o,!0)),s!==-1&&o!==-1&&t.redrawRange(s,o)}}if(e.textModelChangedEvent)return;var t=this._view;if(!t)return;var n=this,r=t.getModel();i(e.added),i(e.removed),i(e.changed)},_onDestroy:function(e){this.destroy()},_onLineStyle:function(e){var t=this._annotationModel,n=e.textView.getModel(),r=t.getTextModel(),i=e.lineStart,s=e.lineStart+e.lineText.length;r!==n&&(i=n.mapOffset(i),s=n.mapOffset(s));var o=t.getAnnotations(i,s);while(o.hasNext()){var u=o.next();if(!this.isAnnotationTypeVisible(u.type))continue;if(u.rangeStyle){var a=u.start,f=u.end;r!==n&&(a=n.mapOffset(a,!0),f=n.mapOffset(f,!0)),e.ranges=this._mergeStyleRanges(e.ranges,{start:a,end:f,style:u.rangeStyle})}u.lineStyle&&(e.style=this._mergeStyle({},e.style),e.style=this._mergeStyle(e.style,u.lineStyle))}}},o.addMixin(a.prototype),{FoldingAnnotation:n,AnnotationType:r,AnnotationTypeList:o,AnnotationModel:u,AnnotationStyler:a}}),define("orion/editor/mirror",["i18n!orion/editor/nls/messages","orion/textview/eventTarget","orion/textview/annotations"],function(e,t,n){function i(e){this.string=e,this.pos=0,this.tokenStart=0}function s(e){this._modes={},this.mimeModes={},this.options={},this.StringStream=i}function o(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}function u(e,t,n){n=n||{},this.model=e,this.codeMirror=t,this.isWhitespaceVisible=typeof n.whitespacesVisible=="undefined"?!1:n.whitespacesVisible,this.mode=null,this.isModeLoaded=!1,this.lines=[],this.dirtyLines=[],this.startLine=Number.MAX_VALUE,this.endLine=-1,this.timer=null,this.initialize(e)}function v(e,t,n){this.init(e,t,n)}var r=4;i.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos===0},peek:function(){return this.string[this.pos]},next:function(){return this.string[this.pos++]},eat:function(e){var t=this.string[this.pos],n=typeof t=="string"&&(t===e||e.test&&e.test(t)||typeof e=="function"&&e(t));return n?this.string[this.pos++]:undefined},eatWhile:function(e){var t=!1;while(this.eat(e)!==undefined)t=!0;return t},eatSpace:function(){return this.eatWhile(/\s/)},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t!==-1?(this.pos=t,!0):!1},match:function(e,t,n){t=t===!0||typeof t=="undefined";if(typeof e=="string"){var r=n?this.string.toLowerCase():this.string;e=n?e.toLowerCase():e;var i=r.indexOf(e,this.pos);return i!==-1&&t&&(this.pos=i+e.length),i!==-1}var s=this.string.substring(this.pos).match(e);return s&&t&&typeof s[0]=="string"&&(this.pos+=s.index+s[0].length),s},backUp:function(e){this.pos-=e},column:function(){var e=0,t=0;while(t<this.tokenStart)e+=this.string[t++]==="	"?r:1;return e},indentation:function(){var e=this.string.search(/\S/),t=0,n=0;while(n<e)t+=this.string[n++]==="	"?r:1;return t},current:function(){return this.string.substring(this.tokenStart,this.pos)},advance:function(){this.tokenStart=this.pos}},s.prototype={options:{},setOption:function(e,t){this.options[e]=t},getOption:function(e){return this.options[e]},copyState:function(e,t){if(typeof e.copyState=="function")return e.copyState(t);var n={};for(var r in t){var i=t[r];n[r]=i instanceof Array?i.slice():i}return n},defineMode:function(e,t){this._modes[e]=t},defineMIME:function(e,t){this.mimeModes[e]=t},getMode:function(e,t){var n={},r;typeof t=="string"&&this.mimeModes[t]&&(t=this.mimeModes[t]),typeof t=="object"&&(n=t,r=this._modes[t.name]),r=r||this._modes[t];if(typeof r!="function")throw"Mode not found "+t;return r(e,n)},listModes:function(){return o(this._modes)},listMIMEs:function(){return o(this.mimeModes)},_getModeName:function(e){var t=this.mimeModes[e];return typeof t=="object"&&(t=t.name),t}};var a="token_tab",f="token_space",l=500,c=50,h=30,p=3,d=40;u.prototype={initialize:function(e){var t=this;this.listener={onModelChanging:function(e){t._onModelChanging(e)},onModelChanged:function(e){t._onModelChanged(e)},onDestroy:function(e){t._onDestroy(e)}},this.model.addEventListener("Changing",this.listener.onModelChanging),this.model.addEventListener("Changed",this.listener.onModelChanged),this.model.addEventListener("Destroy",this.listener.onDestroy)},destroy:function(){this.model&&(this.model.removeEventListener("Changing",this.listener.onModelChanging),this.model.removeEventListener("Changed",this.listener.onModelChanged),this.model.removeEventListener("Destroy",this.listener.onDestroy)),this.model=null,this.codeMirror=null,this.mode=null,this.lines=null,this.dirtyLines=null,clearTimeout(this.timer),this.timer=null},_onModelChanging:function(e){this.startLine=this.model.getLineAtOffset(e.start)},_onModelChanged:function(e){this._dbgEvent(e);var t=this.startLine;(e.removedLineCount||e.addedLineCount)&&Array.prototype.splice.apply(this.lines,[t+1,e.removedLineCount].concat(this._newLines(e.addedLineCount)));if(!this.mode)return;var n=Math.max(e.addedLineCount,e.removedLineCount),r=t+Math.min(n,l);this.highlight(t,r),this.highlightLater(r+1)},_onDestroy:function(e){this.destroy()},setViewportIndex:function(e){this.viewportIndex=e},_dbgEvent:function(e){},_dbgStyle:function(){},_newLines:function(e,t){typeof t=="undefined"&&(t=0);var n=[];for(var r=0;r<e;r++)n.push({style:null,eolState:null});return n},setMode:function(e,t){if(!e)return;this.mode=this.codeMirror.getMode(this.codeMirror.options,e),this.lines=this._newLines(this.model.getLineCount()),t&&this.highlight()},highlight:function(e,t,n){if(!this.mode)return;var r=this.model.getLineCount();e=typeof e=="undefined"?0:e,t=typeof t=="undefined"?r-1:Math.min(t,r-1);var i=this.mode,s=this.getState(e);for(var o=e;o<=t;o++){var u=this.lines[o];this.highlightLine(o,u,s),u.eolState=this.codeMirror.copyState(i,s)}this._expandRange(e,t),n||this.onHighlightDone()},highlightLater:function(e){this.dirtyLines.push(e);var t=this;this.timer=setTimeout(function(){t._highlightJob()},c)},_highlightJob:function(){var e=+(new Date)+h,t=this.mode.compareStates,n=this.model.getLineCount();while(this.dirtyLines.length){var r=this.viewportIndex,i=this.lines[r],s;i&&!i.eolState?s=r:s=this.dirtyLines.pop();if(s>=n)break;this._expandRange(s,s);var o=this._getResumeLineIndex(s),u=o+1,a=o>=0&&this.lines[o].eolState;a=a?this.codeMirror.copyState(this.mode,a):this.mode.startState();var f=0;for(var l=u;l<n;l++){var c=this.lines[l],d=c.eolState,v=this.highlightLine(l,c,a);c.eolState=this.codeMirror.copyState(this.mode,a),v&&this._expandRange(u,l+1);var m=t&&d&&t(d,c.eolState),g=!t&&!v&&f++>p;if(m||g)break;if(!d||v)f=0;var y=l<n||this.dirtyLines.length,b=+(new Date)>e&&y;if(b){this.highlightLater(l+1),this.onHighlightDone();return}}}this.onHighlightDone()},onHighlightDone:function(){this.startLine!==Number.MAX_VALUE&&this.endLine!==-1&&this.dispatchEvent({type:"Highlight",start:this.startLine,end:this.endLine}),this.startLine=Number.MAX_VALUE,this.endLine=-1},_getResumeLineIndex:function(e){var t=this.lines;for(var n=e-1;n>=0;n--)if(t[n].eolState||e-n>d)return n;return-1},getState:function(e){var t=this.mode,n=this.lines,r,i;for(r=e-1;r>=0;r--){i=n[r];if(i.eolState||e-r>d)break}var s=r>=0&&n[r].eolState;if(s){s=this.codeMirror.copyState(t,s),r=Math.max(0,r);for(var o=r;o<e-1;o++)i=n[o],this.highlightLine(o,i,s),i.eolState=this.codeMirror.copyState(t,s);return s}return t.startState()},highlightLine:function(e,t,n){if(!this.mode)return;var r=this.model;r.getLineStart(e)===r.getLineEnd(e)&&this.mode.blankLine&&this.mode.blankLine(n);var s=t.style||[],o=r.getLine(e),u=new i(o),a=!t.style,f=[],l;for(var c=0;!u.eol();c++){var h=this.mode.token(u,n)||null,p=u.current();l=this._whitespaceStyle(h,p,u.tokenStart),l;var d=[u.tokenStart,u.pos,h],v=s[c];f.push(d),a=a||!v||v[0]!==d[0]||v[1]!==d[1]||v[2]!==d[2],u.advance()}return a=a||f.length!==s.length,a&&(t.style=f.length?f:null),a},_whitespaceStyle:function(e,t,n){if(!e&&this.isWhitespaceVisible&&/\s+/.test(t)){var r=[],i,s;for(var o=0;o<t.length;o++){var u=t[o];u!==s&&(s&&r.push([n+i,n+o,s==="	"?a:f]),i=o,s=u)}return r.push([n+i,n+o,s==="	"?a:f]),r}return null},_expandRange:function(e,t){this.startLine=Math.min(this.startLine,e),this.endLine=Math.max(this.endLine,t)},toStyleRangesAndErrors:function(e,t){function n(e){return e?e===a||e===f?e:"cm-"+e:null}var r=e.style;if(!r)return null;var i=[],s=[],o=typeof t=="undefined"?0:this.model.getLineStart(t);for(var u=0;u<r.length;u++){var l=r[u],c=n(l[2]);if(!c)continue;var h={start:o+l[0],end:o+l[1],style:{styleClass:c}};i.push(h),c==="cm-error"&&s.push(h)}return[i,s]},getLineStyle:function(e){return this.lines[e]},getLineStyles:function(){return this.lines}},t.EventTarget.addMixin(u.prototype);var m=20,g="orion.annotation.highlightError";return n.AnnotationType.registerType(g,{title:e.syntaxError,html:"<div class='annotationHTML error'></div>",rangeStyle:{styleClass:"annotationRange error"}}),v.prototype={init:function(e,t,n){this.textView=e,this.annotationModel=n,this.modeApplier=new u(e.getModel(),t);var r=this;this.listener={onLineStyle:function(e){r.onLineStyle(e)},onDestroy:function(e){r.onDestroy(e)},onHighlight:function(e){r.onHighlight(e)}},e.addEventListener("LineStyle",this.listener.onLineStyle),e.addEventListener("Destroy",this.listener.onDestroy),this.modeApplier.addEventListener("Highlight",this.listener.onHighlight)},destroy:function(){this.modeApplier&&(this.modeApplier.removeEventListener("Highlight",this.listener.onHighlight),this.modeApplier.destroy()),this.annotationModel,this.textView&&(this.textView.removeEventListener("LineStyle",this.listener.onLineStyle),this.textView.removeEventListener("Destroy",this.listener.onDestroy)),this.textView=null,this.annotationModel=null,this.modeApplier=null,this.listener=null},setMode:function(e){this.modeApplier.setMode(e)},onLineStyle:function(e){var t=e.lineIndex,r=this.modeApplier,i=r.getLineStyle(t);if(!i||!i.eolState){var s=this.textView.getModel().getLineCount();r.highlight(t,Math.min(t+m,s-1),!0),i=r.getLineStyle(t)}var o=this.textView.getModel();if(i){var u=r.toStyleRangesAndErrors(i,t);if(u){e.ranges=u[0];var a=this.annotationModel;if(a){var f=[],l=[],c=u[1];if(c)for(var h=0;h<c.length;h++){var p=c[h];p.style.styleClass==="cm-error"&&l.push(n.AnnotationType.createAnnotation(g,p.start,p.end))}var d=a.getAnnotations(o.getLineStart(t),o.getLineEnd(t));while(d.hasNext()){var v=d.next();v.type===g&&f.push(v)}a.replaceAnnotations(f,l)}}}},onHighlight:function(e){var t=e.start,n=e.end;this.textView.redrawLines(t,n)},onDestroy:function(e){this.destroy()}},{Mirror:s,ModeApplier:u,CodeMirrorStyler:v}}),define("orioncodemirror/mirrorTextModel",["orion/textview/textModel"],function(e){function t(e){}function n(){}return n.prototype=new e.TextModel,n.prototype.onTargetModelChanging=function(e){t(e);var n=e.start+e.removedCharCount;n=Math.min(n,this.getCharCount()),n=Math.max(n,e.start),this.setText(e.text,e.start,n)},{MirrorTextModel:n}},"orion/editor"),define("orioncodemirror/highlighter",["orion/editor/mirror","orion/textview/eventTarget"],function(e,t){function n(t,n){this.model=t,this.codeMirror=n,this.modeApplier=new e.ModeApplier(t,n),this.initialize(t)}return n.prototype={initialize:function(e){var t=this;this.listener={onDestroy:function(e){t._onDestroy(e)},onHighlight:function(e){t.sendStyle(e)}},this.model.addEventListener("Destroy",this.listener.onDestroy),this.modeApplier.addEventListener("Highlight",this.listener.onHighlight)},destroy:function(){this.model&&this.model.removeEventListener("Destroy",this.listener.onDestroy),this.modeApplier&&(this.modeApplier.removeEventListener("Highlight",this.listener.onHighlight),this.modeApplier.destroy()),this.listener=null,this.model=null,this.codeMirror=null,this.modeApplier=null},setMode:function(e){this.modeApplier.setMode(e,!0)},setViewportIndex:function(e){},sendStyle:function(e){var t=e.start,n=e.end,r=this.modeApplier,i=r.getLineStyles();if(t<Number.MAX_VALUE&&n>-1){var s={};for(var o=t;o<=n;o++){var u=o,a=i[u],f=a&&r.toStyleRangesAndErrors(a);if(f){var l=f[0],c=f[1],h={},p=!1;l&&l.length&&(h.ranges=l,s[o]=h,p=!0),c&&c.length&&(h.errors=c,s[o]=h,p=!0),p||(s[o]=null)}}var d={type:"StyleReady",lineStyles:s};this.dispatchEvent(d)}}},t.EventTarget.addMixin(n.prototype),{Highlighter:n}},"orion/codemirror");var registerPlugin;require(["orion/plugin","orion/textview/eventTarget","orion/textview/textModel","orion/editor/mirror","orioncodemirror/mirrorTextModel","orioncodemirror/highlighter"],function(e,t,n,r,i,s){window.CodeMirror=new r.Mirror,require(["codemirror2-compressed/modes-compressed"],function(e){registerPlugin(t,n,r,i,s,window.CodeMirror)})}),registerPlugin=function(e,t,n,r,i,s){function o(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(r instanceof Array)for(var i=0;i<r.length;i++){var s=r[i];t[s]=n}else t[r]=n}return t}function c(e){return f[e]||e}function h(e){return a[e]}function p(e){return CodeMirror.listMIMEs().filter(function(t){var n=CodeMirror._getModeName(t);return e.indexOf(n)!==-1})}function d(e){return p(e).map(function(e){return{id:h(e)||e,extension:l[e],"extends":"text.plain"}})}function v(){var e=document.getElementById("modelist");u.forEach(function(t){var n=document.createElement("li"),r=document.createElement("div"),i=document.createElement("a");i.href="http://codemirror.net/mode/"+t+"/",i.innerHTML=t,r.appendChild(i),n.appendChild(r),e.appendChild(n)})}function m(e){console.log("orion-codemirror: Couldn't install plugin: "+e)}var u=["clike","clojure","coffeescript","css","diff","groovy","haskell","htmlmixed","javascript","jinja2","lua","markdown","ntriples","pascal","perl","php","plsql","python","r","rst","ruby","rust","scheme","smalltalk","sparql","stex","tiddlywiki","velocity","xml","xmlpure","yaml"],a={"application/xml":"application/xml","text/x-java":"text/x-java-source","text/javascript":"application/javascript"},f=o(a),l={"text/x-csrc":["c","C","h"],"text/x-c++src":["cc","cpp","c++"],"text/x-clojure":["clj"],"text/x-coffeescript":["coffee"],"text/x-csharp":["cs"],"text/css":["css"],"text/x-diff":["diff","patch"],"text/x-groovy":["groovy"],"text/x-haskell":["hs"],"text/html":["html","htm"],"text/x-java":["java"],"text/javascript":["js"],"application/json":["json"],jinja2:[],"text/x-lua":["lua"],"text/x-markdown":["md"],"text/n-triples":["nt"],"text/x-pascal":["pascal","p"],"text/x-perl":["pl"],"text/x-php":["php","php3","php4","php5"],"application/x-httpd-php":["phtml"],"text/x-plsql":["sql"],"text/x-python":["py"],"text/x-rsrc":["r"],"text/x-rst":["rst"],"text/x-ruby":["rb"],"text/x-rust":["rs","rc"],"text/x-scheme":["scm","ss"],"text/x-stsrc":["sm"],"application/x-sparql-query":["spk"],"text/stex":[],"text/x-tiddlywiki":[],"text/velocity":[],"application/xml":["xml"],"text/x-yaml":["yaml"]};(function(){var e=u;try{var t=new r.MirrorTextModel,n=new i.Highlighter(t,s),o=d(e),a=new eclipse.PluginProvider;a.registerServiceProvider("orion.edit.model",{onModelChanging:function(e){t.onTargetModelChanging(e)},onScroll:function(e){n.setViewportIndex(e.topIndex)}},{types:["ModelChanging","Scroll"],contentType:o}),a.registerServiceProvider("orion.file.contenttype",{},{contentTypes:o}),a.registerServiceProvider("orion.navigate.openWith",{},{editor:"orion.editor",contentType:o.map(function(e){return e.id})});var f=a.registerServiceProvider("orion.edit.highlighter",{setContentType:function(e){var t=c(e.id);t?n.setMode(t):console.log("Missing MIME in content type "+e.id)}},{type:"highlighter",contentType:o});n.addEventListener("StyleReady",function(e){f.dispatchEvent("orion.edit.highlighter.styleReady",e)}),a.connect(function(e){},m)}catch(l){m(l)}v(),document.getElementById("url").value=window.location.href})()},define("codeMirrorPlugin",function(){})