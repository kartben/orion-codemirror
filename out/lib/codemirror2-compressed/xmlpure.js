CodeMirror.defineMode("xmlpure",function(e,t){function n(e,t,n){return t.tokenize=n,n(e,t)}function r(e,t,n){return function(r,i){while(!r.eol()){if(r.match(t)){s(i),i.tokenize=n;break}r.next()}return e}}function i(e,t){var n=_.hasOwnProperty(t)||e.context&&e.context.doIndent,r={tagName:t,prev:e.context,indent:e.context?e.context.indent+D:0,lineNumber:e.lineNumber,indented:e.indented,noIndent:n};e.context=r}function s(e){if(e.context){var t=e.context;return e.context=t.prev,t}return null}function o(e){return e.sol()||e.string.charAt(e.start-1)==" "||e.string.charAt(e.start-1)=="	"}function u(e,t){return e.eat("<")?e.eat("?")?(i(t,L),t.tokenize=d,E):e.match("!--")?(i(t,O),n(e,t,r(S,"-->",u))):e.eatSpace()||e.eol()?(e.skipToEnd(),w):(t.tokenize=a,x):(e.skipToEnd(),w)}function a(e,t){var n=e.pos;if(e.match(/^[a-zA-Z_:][-a-zA-Z0-9_:.]*/)){var r=e.string.substring(n,e.pos);return i(t,r),t.tokenize=f,x}if(e.match(/^\/[a-zA-Z_:][-a-zA-Z0-9_:.]*( )*>/)){var o=e.string.substring(n+1,e.pos-1).trim(),a=s(t);return t.tokenize=t.context==null?u:h,a==null||o!=a.tagName?w:x}return t.tokenize=t.context==null?u:h,e.eatWhile(/[^>]/),e.eat(">"),w}function f(e,t){return e.match(/^\/>/)?(s(t),t.tokenize=t.context==null?u:h,x):e.eat(/^>/)?(t.tokenize=h,x):o(e)&&e.match(/^[a-zA-Z_:][-a-zA-Z0-9_:.]*( )*=/)?(t.tokenize=l,T):(t.tokenize=t.context==null?u:u,e.eatWhile(/[^>]/),e.eat(">"),w)}function l(e,t){var n=e.next();return n!='"'&&n!="'"?(e.skipToEnd(),t.tokenize=f,w):(t.tokParams.quote=n,t.tokenize=c,N)}function c(e,t){var n="";while(!e.eol()){n=e.next();if(n==t.tokParams.quote)return t.tokenize=f,N;if(n=="<")return e.skipToEnd(),t.tokenize=f,w;if(n=="&"){n=e.next();if(n==";")return e.skipToEnd(),t.tokenize=f,w;while(!e.eol()&&n!=";"){if(n=="<")return e.skipToEnd(),t.tokenize=f,w;n=e.next()}if(e.eol()&&n!=";")return e.skipToEnd(),t.tokenize=f,w}}return N}function h(e,t){return e.eat("<")?e.match("?")?(i(t,L),t.tokenize=d,E):e.match("!--")?(i(t,O),n(e,t,r(S,"-->",t.context==null?u:h))):e.match("![CDATA[")?(i(t,A),n(e,t,r(C,"]]>",t.context==null?u:h))):e.eatSpace()||e.eol()?(e.skipToEnd(),w):(t.tokenize=a,x):e.eat("&")?(e.eatWhile(/[^;]/),e.eat(";"),k):(i(t,M),t.tokenize=p,null)}function p(e,t){return e.eatWhile(/[^<]/),e.eol()||(s(t),t.tokenize=h),C}function d(e,t){return e.match("xml",!0,!0)?t.lineNumber>1||e.pos>5?(t.tokenize=u,e.skipToEnd(),w):(t.tokenize=m,E):o(e)||e.match("?>")?(t.tokenize=u,e.skipToEnd(),w):(t.tokenize=v,E)}function v(e,t){return e.eatWhile(/[^?]/),e.eat("?")&&e.eat(">")&&(s(t),t.tokenize=t.context==null?u:h),E}function m(e,t){return t.tokenize=g,o(e)&&e.match(/^version( )*=( )*"([a-zA-Z0-9_.:]|\-)+"/)?E:(e.skipToEnd(),w)}function g(e,t){return t.tokenize=y,o(e)&&e.match(/^encoding( )*=( )*"[A-Za-z]([A-Za-z0-9._]|\-)*"/)?E:null}function y(e,t){return t.tokenize=b,o(e)&&e.match(/^standalone( )*=( )*"(yes|no)"/)?E:null}function b(e,t){return t.tokenize=u,e.match("?>")&&e.eol()?(s(t),E):(e.skipToEnd(),w)}var w="error",E="comment",S="comment",x="tag",T="attribute",N="string",C="atom",k="string",L="!instruction",A="!cdata",O="!comment",M="!text",_={"!cdata":!0,"!comment":!0,"!text":!0,"!instruction":!0},D=e.indentUnit;return{electricChars:"/[",startState:function(){return{tokenize:u,tokParams:{},lineNumber:0,lineError:!1,context:null,indented:0}},token:function(e,t){e.sol()&&(t.lineNumber++,t.lineError=!1,t.indented=e.indentation());if(e.eatSpace())return null;var n=t.tokenize(e,t);return t.lineError=t.lineError||n=="error",n},blankLine:function(e){e.lineNumber++,e.lineError=!1},indent:function(e,t){if(e.context){if(e.context.noIndent==1)return;return t.match(/^<\/.*/)?e.context.indent:t.match(/^<!\[CDATA\[/)?0:e.context.indent+D}return 0},compareStates:function(e,t){if(e.indented!=t.indented)return!1;for(var n=e.context,r=t.context;;n=n.prev,r=r.prev){if(!n||!r)return n==r;if(n.tagName!=r.tagName)return!1}}}}),CodeMirror.defineMIME("application/xml","purexml"),CodeMirror.defineMIME("text/xml","purexml")