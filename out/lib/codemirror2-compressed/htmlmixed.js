CodeMirror.defineMode("htmlmixed",function(e,t){function n(e,t){var n=o.token(e,t.htmlState);return n=="tag"&&e.current()==">"&&t.htmlState.context&&(/^script$/i.test(t.htmlState.context.tagName)?(t.token=i,t.localState=u.startState(o.indent(t.htmlState,"")),t.mode="javascript"):/^style$/i.test(t.htmlState.context.tagName)&&(t.token=s,t.localState=a.startState(o.indent(t.htmlState,"")),t.mode="css")),n}function r(e,t,n){var r=e.current(),i=r.search(t);return i>-1&&e.backUp(r.length-i),n}function i(e,t){return e.match(/^<\/\s*script\s*>/i,!1)?(t.token=n,t.localState=null,t.mode="html",n(e,t)):r(e,/<\/\s*script\s*>/,u.token(e,t.localState))}function s(e,t){return e.match(/^<\/\s*style\s*>/i,!1)?(t.token=n,t.localState=null,t.mode="html",n(e,t)):r(e,/<\/\s*style\s*>/,a.token(e,t.localState))}var o=CodeMirror.getMode(e,{name:"xml",htmlMode:!0}),u=CodeMirror.getMode(e,"javascript"),a=CodeMirror.getMode(e,"css");return{startState:function(){var e=o.startState();return{token:n,localState:null,mode:"html",htmlState:e}},copyState:function(e){if(e.localState)var t=CodeMirror.copyState(e.token==s?a:u,e.localState);return{token:e.token,localState:t,mode:e.mode,htmlState:CodeMirror.copyState(o,e.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(e,t){return e.token==n||/^\s*<\//.test(t)?o.indent(e.htmlState,t):e.token==i?u.indent(e.localState,t):a.indent(e.localState,t)},compareStates:function(e,t){return e.mode!=t.mode?!1:e.localState?CodeMirror.Pass:o.compareStates(e.htmlState,t.htmlState)},electricChars:"/{}:"}},"xml","javascript","css"),CodeMirror.defineMIME("text/html","htmlmixed")